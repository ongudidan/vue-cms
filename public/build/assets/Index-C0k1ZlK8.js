import{d as L,c as P,r as y,u as z,w as A,a as r,b as g,e as E,f as e,t as m,g as f,h as s,i as N,j as _,v as j,F as M,k as F,l as B,o,m as R,n as q,p as H,q as K,s as Q,x as S}from"./app-BtCTzmhe.js";import{X as I,C as X,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-CEvfvFOo.js";import{U as J,P as O,S as W,a as Y,T as Z,C as ee}from"./upload-CVI_fjvM.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DB2kK3CH.js";import"./useForwardExpose-BfVumvY7.js";import"./VisuallyHidden-v9cMGcUy.js";import"./RovingFocusGroup-CMaksuGf.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-C4J_hXM0.js";import"./createLucideIcon-B96KYuYZ.js";const te={class:"w-full max-w-lg rounded-xl border border-sidebar-border bg-card shadow-xl"},se={class:"flex items-center justify-between border-b border-sidebar-border px-6 py-4"},re={class:"text-xl font-semibold text-foreground"},oe={class:"space-y-4"},le={class:"flex items-center gap-4"},de={class:"flex-1"},ie={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},ne={class:"flex items-center gap-4"},ae={class:"flex-1"},ue={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},ce={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},me={class:"space-y-2"},ge={key:0,class:"grid grid-cols-2 gap-2"},fe=["src","alt"],xe=["title"],pe={key:1,for:"images",class:"flex cursor-pointer items-center justify-center gap-2 rounded-lg border-2 border-dashed border-sidebar-border bg-muted/30 px-4 py-6 text-sm text-muted-foreground transition-colors hover:border-primary hover:bg-muted/50"},ve={key:2,class:"relative rounded-lg border border-sidebar-border p-2"},be=["src"],he={key:3,class:"text-xs text-muted-foreground"},ye={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},_e={class:"flex items-center gap-3"},we={class:"mt-5 flex justify-end gap-3"},ke=["disabled"],Ce=["disabled"],$e=L({__name:"ServiceModal",props:{show:{type:Boolean},service:{}},emits:["close"],setup(n,{emit:$}){const v=n,b=$,p=P(()=>!!v.service),u=y(null),x=y([]),t=z({title:"",slug:"",details:"",images:null,active:!0});A(()=>v.service,c=>{c?(t.title=c.title,t.slug=c.slug,t.details=c.details||"",t.active=c.active,t.images=null,u.value=null,x.value=c.media||[]):(t.reset(),u.value=null,x.value=[])},{immediate:!0}),A(()=>v.show,c=>{c||(t.reset(),t.clearErrors(),u.value=null)}),A(()=>t.title,c=>{(!p.value||!v.service)&&(t.slug=c.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))});const U=c=>{const a=c.target.files;if(a&&a.length>0){t.images=Array.from(a);const k=new FileReader;k.onload=C=>{u.value=C.target?.result},k.readAsDataURL(a[0])}},D=()=>{t.images=null,u.value=null},T=()=>{p.value&&v.service?t.put(`/admin/services/${v.service.id}`,{preserveScroll:!0,onSuccess:()=>{b("close")}}):t.post("/admin/services",{preserveScroll:!0,onSuccess:()=>{b("close")}})},w=()=>{b("close")};return(c,l)=>n.show?(o(),r("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:E(w,["self"])},[e("div",te,[e("div",se,[e("h2",re,m(p.value?"Edit Service":"Create Service"),1),e("button",{onClick:w,class:"rounded-lg p-2 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground"},[f(s(I),{class:"h-5 w-5"})])]),e("form",{onSubmit:E(T,["prevent"]),class:"p-6"},[e("div",oe,[e("div",le,[l[4]||(l[4]=e("label",{for:"title",class:"w-24 text-sm font-medium text-foreground"},[N(" Title "),e("span",{class:"text-red-500"},"*")],-1)),e("div",de,[_(e("input",{id:"title","onUpdate:modelValue":l[0]||(l[0]=a=>s(t).title=a),type:"text",required:"",class:"w-full rounded-lg border border-sidebar-border bg-background px-3 py-1.5 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter service title"},null,512),[[j,s(t).title]]),s(t).errors.title?(o(),r("p",ie,m(s(t).errors.title),1)):g("",!0)])]),e("div",ne,[l[6]||(l[6]=e("label",{for:"slug",class:"w-24 text-sm font-medium text-foreground"}," Slug ",-1)),e("div",ae,[_(e("input",{id:"slug","onUpdate:modelValue":l[1]||(l[1]=a=>s(t).slug=a),type:"text",class:"w-full rounded-lg border border-sidebar-border bg-background px-3 py-1.5 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"auto-generated-slug"},null,512),[[j,s(t).slug]]),l[5]||(l[5]=e("p",{class:"mt-1 text-xs text-muted-foreground"}," Auto-generated from title if left empty ",-1)),s(t).errors.slug?(o(),r("p",ue,m(s(t).errors.slug),1)):g("",!0)])]),e("div",null,[l[7]||(l[7]=e("label",{for:"details",class:"mb-1.5 block text-sm font-medium text-foreground"}," Details ",-1)),_(e("textarea",{id:"details","onUpdate:modelValue":l[2]||(l[2]=a=>s(t).details=a),rows:"2",class:"w-full rounded-lg border border-sidebar-border bg-background px-3 py-1.5 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter service description"},null,512),[[j,s(t).details]]),s(t).errors.details?(o(),r("p",ce,m(s(t).errors.details),1)):g("",!0)]),e("div",null,[l[8]||(l[8]=e("label",{for:"images",class:"mb-1.5 block text-sm font-medium text-foreground"}," Images ",-1)),e("div",me,[x.value.length>0&&!u.value?(o(),r("div",ge,[(o(!0),r(M,null,F(x.value,a=>(o(),r("div",{key:a.id,class:"relative rounded-lg border border-sidebar-border p-2"},[e("img",{src:a.url,alt:a.file_name,class:"h-20 w-full rounded object-cover"},null,8,fe),e("p",{class:"mt-1 truncate text-xs text-muted-foreground",title:a.file_name},m(a.file_name),9,xe)]))),128))])):g("",!0),u.value?g("",!0):(o(),r("label",pe,[f(s(J),{class:"h-4 w-4"}),e("span",null,m(x.value.length>0?"Replace images":"Click to upload images"),1),e("input",{id:"images",type:"file",accept:"image/*",multiple:"",class:"hidden",onChange:U},null,32)])),u.value?(o(),r("div",ve,[e("img",{src:u.value,alt:"Preview",class:"h-24 w-full rounded object-cover"},null,8,be),e("button",{type:"button",onClick:D,class:"absolute right-3 top-3 rounded-full bg-red-600 p-1 text-white shadow-lg transition-colors hover:bg-red-700"},[f(s(I),{class:"h-3 w-3"})])])):g("",!0),x.value.length>0&&!u.value?(o(),r("p",he," Uploading new images will replace all existing images ")):g("",!0)]),s(t).errors.images?(o(),r("p",ye,m(s(t).errors.images),1)):g("",!0)]),e("div",_e,[_(e("input",{id:"active","onUpdate:modelValue":l[3]||(l[3]=a=>s(t).active=a),type:"checkbox",class:"h-4 w-4 rounded border-sidebar-border text-primary focus:ring-2 focus:ring-primary/20"},null,512),[[B,s(t).active]]),l[9]||(l[9]=e("label",{for:"active",class:"text-sm font-medium text-foreground"}," Active ",-1))])]),e("div",we,[e("button",{type:"button",onClick:w,class:"rounded-lg border border-sidebar-border px-4 py-1.5 text-sm font-medium text-foreground transition-colors hover:bg-muted",disabled:s(t).processing}," Cancel ",8,ke),e("button",{type:"submit",class:"rounded-lg bg-primary px-4 py-1.5 text-sm font-medium text-primary-foreground shadow-sm transition-all hover:bg-primary/90 hover:shadow-md disabled:cursor-not-allowed disabled:opacity-50",disabled:s(t).processing},m(s(t).processing?"Saving...":p.value?"Update":"Create"),9,Ce)])],32)])])):g("",!0)}}),Se={class:"flex h-full flex-1 flex-col gap-6 p-6"},je={class:"flex items-center justify-between"},Me={class:"flex flex-col gap-4 sm:flex-row sm:items-center"},Ue={class:"relative flex-1"},De={class:"overflow-hidden rounded-xl border border-sidebar-border bg-card shadow-sm"},Te={class:"overflow-x-auto"},Ve={class:"w-full"},Ae={class:"divide-y divide-sidebar-border"},Ee={class:"px-6 py-4"},Fe={class:"flex items-center gap-4"},Ie={class:"h-12 w-12 flex-shrink-0 overflow-hidden rounded-lg border border-sidebar-border bg-muted"},Le=["src","alt"],Ne={key:1,class:"flex h-full w-full items-center justify-center text-muted-foreground"},Pe={class:"flex flex-col"},ze={class:"font-medium text-foreground"},Be={key:0,class:"mt-1 line-clamp-1 text-sm text-muted-foreground"},Re={class:"px-6 py-4"},qe={class:"rounded bg-muted px-2 py-1 text-xs text-foreground"},He={class:"px-6 py-4"},Ke={key:0,class:"inline-flex items-center rounded-full bg-green-500/10 px-2.5 py-0.5 text-xs font-medium text-green-600 dark:text-green-400"},Qe={key:1,class:"inline-flex items-center rounded-full bg-red-500/10 px-2.5 py-0.5 text-xs font-medium text-red-600 dark:text-red-400"},Xe={class:"px-6 py-4"},Ge={class:"flex items-center justify-end gap-2"},Je=["onClick"],Oe=["onClick"],We={key:0},Ye={key:0,class:"flex items-center justify-between border-t border-sidebar-border px-6 py-4"},Ze={class:"text-sm text-muted-foreground"},et={class:"flex items-center gap-2"},tt=["disabled"],st={class:"flex gap-1"},rt=["onClick","innerHTML"],ot=["disabled"],lt={class:"w-full max-w-md rounded-xl border border-sidebar-border bg-card p-6 shadow-xl"},dt={class:"mt-2 text-sm text-muted-foreground"},bt=L({__name:"Index",props:{services:{},filters:{}},setup(n){const $=n,v=[{title:"Dashboard",href:"/dashboard"},{title:"Components",href:"/admin/components"},{title:"Services",href:"/admin/services"}],b=y(!1),p=y(null),u=y($.filters.search||""),x=y($.filters.active||""),t=y(null),U=()=>{p.value=null,b.value=!0},D=h=>{p.value=h,b.value=!0},T=()=>{b.value=!1,p.value=null},w=()=>{S.get("/admin/services",{search:u.value,active:x.value},{preserveState:!0,preserveScroll:!0})},c=()=>{S.get("/admin/services",{search:u.value,active:x.value},{preserveState:!0,preserveScroll:!0})},l=h=>{t.value=h},a=()=>{t.value&&S.delete(`/admin/services/${t.value.id}`,{preserveScroll:!0,onSuccess:()=>{t.value=null}})},k=()=>{t.value=null},C=h=>{h&&S.get(h,{},{preserveState:!0,preserveScroll:!0})};return(h,d)=>(o(),r(M,null,[f(s(R),{title:"Services"}),f(G,{breadcrumbs:v},{default:q(()=>[e("div",Se,[e("div",je,[d[5]||(d[5]=e("div",{class:"space-y-1"},[e("h1",{class:"text-3xl font-bold tracking-tight text-foreground"}," Services "),e("p",{class:"text-sm text-muted-foreground"}," Manage your service offerings ")],-1)),e("button",{onClick:U,class:"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow-sm transition-all hover:bg-primary/90 hover:shadow-md"},[f(s(O),{class:"h-4 w-4"}),d[4]||(d[4]=N(" Create Service ",-1))])]),e("div",Me,[e("div",Ue,[f(s(W),{class:"pointer-events-none absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),_(e("input",{"onUpdate:modelValue":d[0]||(d[0]=i=>u.value=i),onKeyup:H(w,["enter"]),type:"text",placeholder:"Search services...",class:"w-full rounded-lg border border-sidebar-border bg-background py-2 pl-10 pr-4 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"},null,544),[[j,u.value]])]),_(e("select",{"onUpdate:modelValue":d[1]||(d[1]=i=>x.value=i),onChange:c,class:"rounded-lg border border-sidebar-border bg-background px-4 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"},[...d[6]||(d[6]=[e("option",{value:""},"All Status",-1),e("option",{value:"1"},"Active",-1),e("option",{value:"0"},"Inactive",-1)])],544),[[K,x.value]])]),e("div",De,[e("div",Te,[e("table",Ve,[d[9]||(d[9]=e("thead",{class:"border-b border-sidebar-border bg-muted/50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground"}," Title "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground"}," Slug "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground"}," Status "),e("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-muted-foreground"}," Actions ")])],-1)),e("tbody",Ae,[(o(!0),r(M,null,F(n.services.data,i=>(o(),r("tr",{key:i.id,class:"transition-colors hover:bg-muted/30"},[e("td",Ee,[e("div",Fe,[e("div",Ie,[i.media&&i.media.length>0?(o(),r("img",{key:0,src:i.media[0].url,alt:i.title,class:"h-full w-full object-cover"},null,8,Le)):(o(),r("div",Ne,[...d[7]||(d[7]=[e("span",{class:"text-xs"},"No img",-1)])]))]),e("div",Pe,[e("span",ze,m(i.title),1),i.details?(o(),r("span",Be,m(i.details),1)):g("",!0)])])]),e("td",Re,[e("code",qe,m(i.slug),1)]),e("td",He,[i.active?(o(),r("span",Ke," Active ")):(o(),r("span",Qe," Inactive "))]),e("td",Xe,[e("div",Ge,[e("button",{onClick:V=>D(i),class:"rounded-lg p-2 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",title:"Edit"},[f(s(Y),{class:"h-4 w-4"})],8,Je),e("button",{onClick:V=>l(i),class:"rounded-lg p-2 text-muted-foreground transition-colors hover:bg-red-500/10 hover:text-red-600 dark:hover:text-red-400",title:"Delete"},[f(s(Z),{class:"h-4 w-4"})],8,Oe)])])]))),128)),n.services.data.length===0?(o(),r("tr",We,[...d[8]||(d[8]=[e("td",{colspan:"4",class:"px-6 py-12 text-center"},[e("p",{class:"text-muted-foreground"}," No services found ")],-1)])])):g("",!0)])])]),n.services.last_page>1?(o(),r("div",Ye,[e("div",Ze," Showing "+m((n.services.current_page-1)*n.services.per_page+1)+" to "+m(Math.min(n.services.current_page*n.services.per_page,n.services.total))+" of "+m(n.services.total)+" results ",1),e("div",et,[e("button",{onClick:d[2]||(d[2]=i=>C(n.services.links[0]?.url)),disabled:n.services.current_page===1,class:"rounded-lg p-2 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50"},[f(s(ee),{class:"h-4 w-4"})],8,tt),e("div",st,[(o(!0),r(M,null,F(n.services.links.slice(1,-1),(i,V)=>(o(),r("button",{key:V,onClick:it=>C(i.url),class:Q(["min-w-[2rem] rounded-lg px-3 py-1 text-sm transition-colors",i.active?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"]),innerHTML:i.label},null,10,rt))),128))]),e("button",{onClick:d[3]||(d[3]=i=>C(n.services.links[n.services.links.length-1]?.url)),disabled:n.services.current_page===n.services.last_page,class:"rounded-lg p-2 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground disabled:cursor-not-allowed disabled:opacity-50"},[f(s(X),{class:"h-4 w-4"})],8,ot)])])):g("",!0)])]),f($e,{show:b.value,service:p.value,onClose:T},null,8,["show","service"]),t.value?(o(),r("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:E(k,["self"])},[e("div",lt,[d[10]||(d[10]=e("h3",{class:"text-lg font-semibold text-foreground"}," Delete Service ",-1)),e("p",dt,' Are you sure you want to delete "'+m(t.value.title)+'"? This action cannot be undone. ',1),e("div",{class:"mt-6 flex justify-end gap-3"},[e("button",{onClick:k,class:"rounded-lg border border-sidebar-border px-4 py-2 text-sm font-medium text-foreground transition-colors hover:bg-muted"}," Cancel "),e("button",{onClick:a,class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-700"}," Delete ")])])])):g("",!0)]),_:1})],64))}});export{bt as default};
