import{l as E,r as k,m as M,n as v,c as d,d as n,b as t,t as u,a as y,u as o,j as _,e as D,f as p,v as b,F as N,p as A,q as F,o as a}from"./app-BMWTz2XK.js";import{X as w}from"./x-DWFVe79P.js";import{U as q}from"./upload-pE1LLDIh.js";import"./createLucideIcon-B05Kbpo6.js";const I={class:"w-full max-w-3xl rounded-xl border border-sidebar-border bg-card shadow-xl overflow-hidden"},L={class:"flex items-center justify-between border-b border-sidebar-border px-6 py-4"},P={class:"text-xl font-semibold text-foreground"},R={class:"space-y-4"},z={class:"flex items-center gap-4"},B={class:"flex-1"},O={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},T={class:"flex items-center gap-4"},$={class:"flex-1"},X={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},G={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},H={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},J={class:"space-y-2"},K={key:0,class:"grid grid-cols-2 gap-2"},Q=["src","alt"],W=["title"],Y={key:1,for:"images",class:"flex cursor-pointer items-center justify-center gap-2 rounded-lg border-2 border-dashed border-sidebar-border bg-muted/30 px-4 py-6 text-sm text-muted-foreground transition-colors hover:border-primary hover:bg-muted/50"},Z={key:2,class:"relative rounded-lg border border-sidebar-border p-2"},ee=["src"],te={key:3,class:"text-xs text-muted-foreground"},re={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},oe={class:"flex items-center gap-3"},se={class:"mt-5 flex justify-end gap-3"},le=["disabled"],de=["disabled"],me={__name:"BoardMemberModal",props:{show:{type:Boolean,required:!0},boardMember:{type:Object,default:null}},emits:["close"],setup(h,{emit:C}){const c=h,f=C,g=E(()=>!!c.boardMember),i=k(null),m=k([]),e=M({name:"",slug:"",position:"",details:"",images:null,active:!0});v(()=>c.boardMember,l=>{l?(e.name=l.name,e.slug=l.slug,e.position=l.position||"",e.details=l.details||"",e.active=l.active,e.images=null,i.value=null,m.value=l.media||[]):(e.reset(),i.value=null,m.value=[])},{immediate:!0}),v(()=>c.show,l=>{l||(e.reset(),e.clearErrors(),i.value=null)}),v(()=>e.name,l=>{g.value||(e.slug=l.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""))});const U=l=>{const r=l.target.files;if(r&&r.length>0){e.images=Array.from(r);const s=new FileReader;s.onload=S=>{i.value=S.target?.result},s.readAsDataURL(r[0])}},V=()=>{e.images=null,i.value=null},j=()=>{g.value&&c.boardMember?e.put(`/admin/board-members/${c.boardMember.id}`,{preserveScroll:!0,onSuccess:()=>f("close")}):e.post("/admin/board-members",{preserveScroll:!0,onSuccess:()=>f("close")})},x=()=>f("close");return(l,r)=>h.show?(a(),d("div",{key:0,class:"fixed inset-0 z-50 flex items-start justify-center overflow-y-auto bg-black/50 p-6",onClick:_(x,["self"])},[t("div",I,[t("div",L,[t("h2",P,u(g.value?"Edit Board Member":"Create Board Member"),1),t("button",{onClick:x,class:"rounded-lg p-2 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground"},[y(o(w),{class:"h-5 w-5"})])]),t("form",{onSubmit:_(j,["prevent"]),class:"p-6 max-h-[75vh] overflow-y-auto"},[t("div",R,[t("div",z,[r[5]||(r[5]=t("label",{for:"name",class:"w-24 text-sm font-medium text-foreground"},[D(" Name "),t("span",{class:"text-red-500"},"*")],-1)),t("div",B,[p(t("input",{id:"name","onUpdate:modelValue":r[0]||(r[0]=s=>o(e).name=s),type:"text",required:"",class:"w-full rounded-lg border border-sidebar-border bg-background px-3 py-1.5 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter board member name"},null,512),[[b,o(e).name]]),o(e).errors.name?(a(),d("p",O,u(o(e).errors.name),1)):n("",!0)])]),t("div",T,[r[7]||(r[7]=t("label",{for:"slug",class:"w-24 text-sm font-medium text-foreground"}," Slug ",-1)),t("div",$,[p(t("input",{id:"slug","onUpdate:modelValue":r[1]||(r[1]=s=>o(e).slug=s),type:"text",class:"w-full rounded-lg border border-sidebar-border bg-background px-3 py-1.5 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"auto-generated-slug"},null,512),[[b,o(e).slug]]),r[6]||(r[6]=t("p",{class:"mt-1 text-xs text-muted-foreground"}," Auto-generated from name if left empty ",-1)),o(e).errors.slug?(a(),d("p",X,u(o(e).errors.slug),1)):n("",!0)])]),t("div",null,[r[8]||(r[8]=t("label",{for:"position",class:"mb-1.5 block text-sm font-medium text-foreground"}," Position ",-1)),p(t("input",{id:"position","onUpdate:modelValue":r[2]||(r[2]=s=>o(e).position=s),type:"text",class:"w-full rounded-lg border border-sidebar-border bg-background px-3 py-1.5 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"e.g., CEO, Board Chair, Director"},null,512),[[b,o(e).position]]),o(e).errors.position?(a(),d("p",G,u(o(e).errors.position),1)):n("",!0)]),t("div",null,[r[9]||(r[9]=t("label",{for:"details",class:"mb-1.5 block text-sm font-medium text-foreground"}," Details ",-1)),p(t("textarea",{id:"details","onUpdate:modelValue":r[3]||(r[3]=s=>o(e).details=s),rows:"3",class:"w-full rounded-lg border border-sidebar-border bg-background px-3 py-1.5 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter bio or description"},null,512),[[b,o(e).details]]),o(e).errors.details?(a(),d("p",H,u(o(e).errors.details),1)):n("",!0)]),t("div",null,[r[10]||(r[10]=t("label",{for:"images",class:"mb-1.5 block text-sm font-medium text-foreground"}," Images ",-1)),t("div",J,[m.value.length>0&&!i.value?(a(),d("div",K,[(a(!0),d(N,null,A(m.value,s=>(a(),d("div",{key:s.id,class:"relative rounded-lg border border-sidebar-border p-2"},[t("img",{src:s.url,alt:s.file_name,class:"h-20 w-full rounded object-cover"},null,8,Q),t("p",{class:"mt-1 truncate text-xs text-muted-foreground",title:s.file_name},u(s.file_name),9,W)]))),128))])):n("",!0),i.value?n("",!0):(a(),d("label",Y,[y(o(q),{class:"h-4 w-4"}),t("span",null,u(m.value.length>0?"Replace images":"Click to upload images"),1),t("input",{id:"images",type:"file",accept:"image/*",multiple:"",class:"hidden",onChange:U},null,32)])),i.value?(a(),d("div",Z,[t("img",{src:i.value,alt:"Preview",class:"h-24 w-full rounded object-cover"},null,8,ee),t("button",{type:"button",onClick:V,class:"absolute right-3 top-3 rounded-full bg-red-600 p-1 text-white shadow-lg transition-colors hover:bg-red-700"},[y(o(w),{class:"h-3 w-3"})])])):n("",!0),m.value.length>0&&!i.value?(a(),d("p",te," Uploading new images will replace all existing images ")):n("",!0)]),o(e).errors.images?(a(),d("p",re,u(o(e).errors.images),1)):n("",!0)]),t("div",oe,[p(t("input",{id:"active","onUpdate:modelValue":r[4]||(r[4]=s=>o(e).active=s),type:"checkbox",class:"h-4 w-4 rounded border-sidebar-border text-primary focus:ring-2 focus:ring-primary/20"},null,512),[[F,o(e).active]]),r[11]||(r[11]=t("label",{for:"active",class:"text-sm font-medium text-foreground"}," Active ",-1))])]),t("div",se,[t("button",{type:"button",onClick:x,class:"rounded-lg border border-sidebar-border px-4 py-1.5 text-sm font-medium text-foreground transition-colors hover:bg-muted",disabled:o(e).processing}," Cancel ",8,le),t("button",{type:"submit",class:"rounded-lg bg-primary px-4 py-1.5 text-sm font-medium text-primary-foreground shadow-sm transition-all hover:bg-primary/90 hover:shadow-md disabled:cursor-not-allowed disabled:opacity-50",disabled:o(e).processing},u(o(e).processing?"Saving...":g.value?"Update":"Create"),9,de)])],32)])])):n("",!0)}};export{me as default};
