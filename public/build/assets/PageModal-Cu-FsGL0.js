const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSectionForm-D4_O0tLl.js","assets/app-BMWTz2XK.js","assets/app-B-GEgCUm.css","assets/SectionWithBlogsForm-CqSv0Jv4.js","assets/SectionWithBoardMembersForm-DoxBbs3i.js","assets/SectionWithCardsForm-Dz1FLS4F.js","assets/SectionWithClientsForm-BRmnVQDL.js","assets/SectionWithContactCardsForm-Cwg9pf-4.js","assets/SectionWithContactFormForm-DskJxZOl.js","assets/SectionWithFaqsForm-KT1-rnNf.js","assets/SectionWithGalleryForm-CuSZJkP-.js","assets/SectionWithIconBoxForm-CQ18ZUmA.js","assets/SectionWithImageForm-CyiqabmB.js","assets/SectionWithMapForm-cCUuXMrU.js","assets/SectionWithPartnersForm-Dsi4SMYe.js","assets/SectionWithPricingPlansForm-ClQj-9o5.js","assets/SectionWithProjectsForm-EQEqBp1f.js","assets/SectionWithServicesForm-3l2tvS2M.js","assets/SectionWithTestimonialsForm-BOdiNnbf.js","assets/SectionWithVideoForm-C4rGfkes.js","assets/SectionWithoutImageForm-DG4zDjgm.js","assets/WhyUsSectionForm-DdyWA-qa.js","assets/CtaSectionForm-BK59E5m4.js","assets/FaqAccordionForm-ewGG3j4j.js","assets/FeaturesGridForm-C020SW4K.js","assets/HeroFullscreenForm-zXSzHthY.js","assets/HeroMinimalForm-DaNKnycl.js","assets/PageBannerBreadcrumbForm-1UxXjKRe.js","assets/PageBannerForm-DUoFrQvd.js","assets/PricingTableForm-CpA0jZGw.js","assets/TeamGridForm-CIgbOZHG.js","assets/TestimonialsForm-ucZtgKl5.js"])))=>i.map(i=>d[i]);
import{r as k,B as G,E as H,c as u,o as a,b as e,a as g,u as s,d as b,F as K,p as X,t as _,w as J,y as Q,z as Y,L as Z,_ as r,l as ee,m as te,n as L,s as O,e as D,j as A,f as E,M as R,v as T,q as $}from"./app-BMWTz2XK.js";import{G as oe,d as re}from"./vuedraggable.umd-DXH5Gcl1.js";import{L as se}from"./loader-circle-D-iHtByA.js";import{c as W}from"./createLucideIcon-B05Kbpo6.js";import{S as ne,T as ie}from"./trash-2-DBMWxxZb.js";import{X as de}from"./x-DWFVe79P.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=W("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=W("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ue={class:"flex gap-6 min-h-[500px]"},me={class:"w-64 flex-shrink-0 space-y-3"},ce={key:0,class:"flex items-center justify-center py-8"},pe={key:1,class:"space-y-2"},fe=["onClick"],_e={class:"text-2xl"},ve={class:"text-sm font-medium text-foreground"},be={key:0,class:"rounded-lg border border-dashed border-sidebar-border bg-muted/30 p-4 text-center"},ge={class:"flex-1 space-y-4"},he={class:"flex items-center justify-between"},xe={class:"text-xs text-muted-foreground"},ye={class:"group rounded-lg border border-sidebar-border bg-card overflow-hidden transition-shadow hover:shadow-md"},Ee={class:"flex items-center gap-3 bg-muted/30 px-4 py-3"},ke={type:"button",class:"drag-handle cursor-move text-muted-foreground hover:text-foreground"},Se={class:"flex-1"},Ve={class:"text-sm font-medium text-foreground"},we={class:"flex items-center gap-1"},Ce=["onClick"],Fe=["onClick"],Pe=["onClick"],je=["onClick"],De={class:"p-4"},Te={key:1,class:"text-sm text-muted-foreground"},Ie={key:0,class:"rounded-lg border-2 border-dashed border-sidebar-border bg-muted/30 p-12 text-center"},Le={__name:"PageBuilder",props:{content:{type:Array,default:()=>[]}},emits:["update:content"],setup(w,{emit:F}){const h=w,S=F,d=k([...h.content]),f=k(!1),t=k(null),x=k([]),y=k(!0),C=G({}),m=Object.assign({"/resources/js/themes/default/forms/HeroSectionForm.vue":()=>r(()=>import("./HeroSectionForm-D4_O0tLl.js"),__vite__mapDeps([0,1,2])),"/resources/js/themes/default/forms/SectionWithBlogsForm.vue":()=>r(()=>import("./SectionWithBlogsForm-CqSv0Jv4.js"),__vite__mapDeps([3,1,2])),"/resources/js/themes/default/forms/SectionWithBoardMembersForm.vue":()=>r(()=>import("./SectionWithBoardMembersForm-DoxBbs3i.js"),__vite__mapDeps([4,1,2])),"/resources/js/themes/default/forms/SectionWithCardsForm.vue":()=>r(()=>import("./SectionWithCardsForm-Dz1FLS4F.js"),__vite__mapDeps([5,1,2])),"/resources/js/themes/default/forms/SectionWithClientsForm.vue":()=>r(()=>import("./SectionWithClientsForm-BRmnVQDL.js"),__vite__mapDeps([6,1,2])),"/resources/js/themes/default/forms/SectionWithContactCardsForm.vue":()=>r(()=>import("./SectionWithContactCardsForm-Cwg9pf-4.js"),__vite__mapDeps([7,1,2])),"/resources/js/themes/default/forms/SectionWithContactFormForm.vue":()=>r(()=>import("./SectionWithContactFormForm-DskJxZOl.js"),__vite__mapDeps([8,1,2])),"/resources/js/themes/default/forms/SectionWithFaqsForm.vue":()=>r(()=>import("./SectionWithFaqsForm-KT1-rnNf.js"),__vite__mapDeps([9,1,2])),"/resources/js/themes/default/forms/SectionWithGalleryForm.vue":()=>r(()=>import("./SectionWithGalleryForm-CuSZJkP-.js"),__vite__mapDeps([10,1,2])),"/resources/js/themes/default/forms/SectionWithIconBoxForm.vue":()=>r(()=>import("./SectionWithIconBoxForm-CQ18ZUmA.js"),__vite__mapDeps([11,1,2])),"/resources/js/themes/default/forms/SectionWithImageForm.vue":()=>r(()=>import("./SectionWithImageForm-CyiqabmB.js"),__vite__mapDeps([12,1,2])),"/resources/js/themes/default/forms/SectionWithMapForm.vue":()=>r(()=>import("./SectionWithMapForm-cCUuXMrU.js"),__vite__mapDeps([13,1,2])),"/resources/js/themes/default/forms/SectionWithPartnersForm.vue":()=>r(()=>import("./SectionWithPartnersForm-Dsi4SMYe.js"),__vite__mapDeps([14,1,2])),"/resources/js/themes/default/forms/SectionWithPricingPlansForm.vue":()=>r(()=>import("./SectionWithPricingPlansForm-ClQj-9o5.js"),__vite__mapDeps([15,1,2])),"/resources/js/themes/default/forms/SectionWithProjectsForm.vue":()=>r(()=>import("./SectionWithProjectsForm-EQEqBp1f.js"),__vite__mapDeps([16,1,2])),"/resources/js/themes/default/forms/SectionWithServicesForm.vue":()=>r(()=>import("./SectionWithServicesForm-3l2tvS2M.js"),__vite__mapDeps([17,1,2])),"/resources/js/themes/default/forms/SectionWithTestimonialsForm.vue":()=>r(()=>import("./SectionWithTestimonialsForm-BOdiNnbf.js"),__vite__mapDeps([18,1,2])),"/resources/js/themes/default/forms/SectionWithVideoForm.vue":()=>r(()=>import("./SectionWithVideoForm-C4rGfkes.js"),__vite__mapDeps([19,1,2])),"/resources/js/themes/default/forms/SectionWithoutImageForm.vue":()=>r(()=>import("./SectionWithoutImageForm-DG4zDjgm.js"),__vite__mapDeps([20,1,2])),"/resources/js/themes/default/forms/WhyUsSectionForm.vue":()=>r(()=>import("./WhyUsSectionForm-DdyWA-qa.js"),__vite__mapDeps([21,1,2])),"/resources/js/themes/modern/forms/CtaSectionForm.vue":()=>r(()=>import("./CtaSectionForm-BK59E5m4.js"),__vite__mapDeps([22,1,2])),"/resources/js/themes/modern/forms/FaqAccordionForm.vue":()=>r(()=>import("./FaqAccordionForm-ewGG3j4j.js"),__vite__mapDeps([23,1,2])),"/resources/js/themes/modern/forms/FeaturesGridForm.vue":()=>r(()=>import("./FeaturesGridForm-C020SW4K.js"),__vite__mapDeps([24,1,2])),"/resources/js/themes/modern/forms/HeroFullscreenForm.vue":()=>r(()=>import("./HeroFullscreenForm-zXSzHthY.js"),__vite__mapDeps([25,1,2])),"/resources/js/themes/modern/forms/HeroMinimalForm.vue":()=>r(()=>import("./HeroMinimalForm-DaNKnycl.js"),__vite__mapDeps([26,1,2])),"/resources/js/themes/modern/forms/PageBannerBreadcrumbForm.vue":()=>r(()=>import("./PageBannerBreadcrumbForm-1UxXjKRe.js"),__vite__mapDeps([27,1,2])),"/resources/js/themes/modern/forms/PageBannerForm.vue":()=>r(()=>import("./PageBannerForm-DUoFrQvd.js"),__vite__mapDeps([28,1,2])),"/resources/js/themes/modern/forms/PricingTableForm.vue":()=>r(()=>import("./PricingTableForm-CpA0jZGw.js"),__vite__mapDeps([29,1,2])),"/resources/js/themes/modern/forms/TeamGridForm.vue":()=>r(()=>import("./TeamGridForm-CIgbOZHG.js"),__vite__mapDeps([30,1,2])),"/resources/js/themes/modern/forms/TestimonialsForm.vue":()=>r(()=>import("./TestimonialsForm-ucZtgKl5.js"),__vite__mapDeps([31,1,2]))}),o=async()=>{try{y.value=!0;const i=(await Z.get("/api/themes/active/sections")).data.sections||[];for(const n of i)if(n.vueForm)try{const c=`@/themes/${n.vueForm}`,v=Object.keys(m).find(j=>j.includes(n.vueForm));if(v){const j=await m[v]();C.value[n.type]=j.default}else console.warn(`Component not found in glob imports for ${n.type}: ${c}`)}catch(c){console.error(`Failed to load component for ${n.type}:`,c)}x.value=i}catch(l){console.error("Failed to fetch theme sections:",l),x.value=[]}finally{y.value=!1}},p=l=>C.value[l]||null,B=l=>{const i={id:`section-${Date.now()}`,type:l,order:d.value.length,data:{}};d.value.push(i),V()},M=l=>{d.value.splice(l,1),P(),V()},U=l=>{t.value=l},q=(l,i)=>{d.value[l].data=i,t.value=null,V()},N=()=>{t.value=null},I=(l,i)=>{const n=i==="up"?l-1:l+1;if(n>=0&&n<d.value.length){const c=d.value[l];d.value[l]=d.value[n],d.value[n]=c,P(),V()}},P=()=>{d.value.forEach((l,i)=>{l.order=i})},z=()=>{f.value=!1,P(),V()},V=()=>{S("update:content",d.value)};return H(()=>{o()}),(l,i)=>(a(),u("div",ue,[e("div",me,[i[3]||(i[3]=e("h3",{class:"text-sm font-semibold text-foreground mb-3"},"Available Sections",-1)),i[4]||(i[4]=e("p",{class:"text-xs text-muted-foreground mb-4"},"Click to add to your page",-1)),y.value?(a(),u("div",ce,[g(s(se),{class:"h-6 w-6 animate-spin text-primary"})])):(a(),u("div",pe,[(a(!0),u(K,null,X(x.value,n=>(a(),u("button",{key:n.type,onClick:c=>B(n.type),type:"button",class:"w-full flex items-center gap-3 rounded-lg border border-sidebar-border bg-card p-3 text-left transition-all hover:border-primary hover:shadow-md hover:scale-105"},[e("span",_e,_(n.icon),1),e("span",ve,_(n.label),1)],8,fe))),128)),x.value.length===0?(a(),u("div",be,[...i[2]||(i[2]=[e("p",{class:"text-xs text-muted-foreground"}," No theme is active. Please activate a theme first. ",-1)])])):b("",!0)]))]),e("div",ge,[e("div",he,[i[5]||(i[5]=e("h3",{class:"text-sm font-semibold text-foreground"},"Page Sections",-1)),e("span",xe,_(d.value.length)+" section"+_(d.value.length!==1?"s":""),1)]),g(s(re),{modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=n=>d.value=n),onStart:i[1]||(i[1]=n=>f.value=!0),onEnd:z,"item-key":"id",handle:".drag-handle",class:"space-y-3"},{item:J(({element:n,index:c})=>[e("div",ye,[e("div",Ee,[e("button",ke,[g(s(oe),{class:"h-5 w-5"})]),e("div",Se,[e("span",Ve,_(x.value.find(v=>v.type===n.type)?.label||n.type),1)]),e("div",we,[c>0?(a(),u("button",{key:0,onClick:v=>I(c,"up"),type:"button",class:"rounded p-1 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",title:"Move up"},[g(s(ae),{class:"h-4 w-4"})],8,Ce)):b("",!0),c<d.value.length-1?(a(),u("button",{key:1,onClick:v=>I(c,"down"),type:"button",class:"rounded p-1 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",title:"Move down"},[g(s(le),{class:"h-4 w-4"})],8,Fe)):b("",!0),e("button",{onClick:v=>U(c),type:"button",class:"rounded p-1 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",title:"Edit"},[g(s(ne),{class:"h-4 w-4"})],8,Pe),e("button",{onClick:v=>M(c),type:"button",class:"rounded p-1 text-muted-foreground transition-colors hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-950",title:"Delete"},[g(s(ie),{class:"h-4 w-4"})],8,je)])]),e("div",De,[p(n.type)?(a(),Q(Y(p(n.type)),{key:0,data:n.data,editing:t.value===c,onSave:v=>q(c,v),onCancel:N},null,40,["data","editing","onSave"])):(a(),u("div",Te," Component not found for "+_(n.type),1))])])]),_:1},8,["modelValue"]),d.value.length===0?(a(),u("div",Ie,[...i[6]||(i[6]=[e("p",{class:"text-sm text-muted-foreground"},"No sections yet. Click a section type from the left sidebar to add it to your page.",-1)])])):b("",!0)])]))}},Oe={class:"w-full max-w-[98vw] max-h-[95vh] overflow-y-auto rounded-xl border border-sidebar-border bg-card shadow-xl"},Ae={class:"sticky top-0 z-10 flex items-center justify-between border-b border-sidebar-border bg-card px-6 py-4"},Re={class:"text-xl font-semibold text-foreground"},$e={class:"border-b border-sidebar-border bg-muted/30 px-6"},We={class:"flex gap-4"},Be={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"},Me={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary"},Ue={class:"space-y-4"},qe={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},Ne={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},ze={key:0,class:"mt-1 text-xs text-red-600 dark:text-red-400"},Ge={class:"flex items-center gap-3"},He={class:"flex items-center gap-3"},Ke={class:"mt-6 flex justify-end gap-3 border-t border-sidebar-border pt-6"},Xe=["disabled"],Je=["disabled"],rt={__name:"PageModal",props:{show:{type:Boolean,required:!0},page:{type:Object,default:null}},emits:["close"],setup(w,{emit:F}){const h=w,S=F,d=ee(()=>!!h.page),f=k("basic"),t=te({title:"",slug:"",description:"",content:[],published:!1,is_homepage:!1});L(()=>h.page,m=>{m?(t.title=m.title,t.slug=m.slug||"",t.description=m.description||"",t.content=m.content||[],t.published=m.published||!1,t.is_homepage=m.is_homepage||!1):t.reset()},{immediate:!0}),L(()=>h.show,m=>{m||(t.reset(),t.clearErrors(),f.value="basic")});const x=()=>{d.value&&h.page?t.put(`/admin/pages/${h.page.id}`,{preserveScroll:!0,onSuccess:()=>S("close")}):t.post("/admin/pages",{preserveScroll:!0,onSuccess:()=>S("close")})},y=()=>S("close"),C=m=>{t.content=m};return(m,o)=>w.show?(a(),u("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-2",onClick:A(y,["self"])},[e("div",Oe,[e("div",Ae,[e("h2",Re,_(d.value?"Edit Page":"Create Page"),1),e("button",{onClick:y,class:"rounded-lg p-2 text-muted-foreground transition-colors hover:bg-muted hover:text-foreground"},[g(s(de),{class:"h-5 w-5"})])]),e("div",$e,[e("div",We,[e("button",{onClick:o[0]||(o[0]=p=>f.value="basic"),class:O(["relative px-4 py-3 text-sm font-medium transition-colors",f.value==="basic"?"text-primary":"text-muted-foreground hover:text-foreground"])},[o[7]||(o[7]=D(" Basic Information ",-1)),f.value==="basic"?(a(),u("div",Be)):b("",!0)],2),e("button",{onClick:o[1]||(o[1]=p=>f.value="builder"),class:O(["relative px-4 py-3 text-sm font-medium transition-colors",f.value==="builder"?"text-primary":"text-muted-foreground hover:text-foreground"])},[o[8]||(o[8]=D(" Page Builder ",-1)),f.value==="builder"?(a(),u("div",Me)):b("",!0)],2)])]),e("form",{onSubmit:A(x,["prevent"]),class:"p-6"},[E(e("div",Ue,[e("div",null,[o[9]||(o[9]=e("label",{for:"title",class:"mb-1.5 block text-sm font-medium text-foreground"},[D(" Title "),e("span",{class:"text-red-500"},"*")],-1)),E(e("input",{id:"title","onUpdate:modelValue":o[2]||(o[2]=p=>s(t).title=p),type:"text",required:"",class:"w-full rounded-lg border border-sidebar-border bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter page title"},null,512),[[T,s(t).title]]),s(t).errors.title?(a(),u("p",qe,_(s(t).errors.title),1)):b("",!0)]),e("div",null,[o[10]||(o[10]=e("label",{for:"slug",class:"mb-1.5 block text-sm font-medium text-foreground"}," Slug ",-1)),E(e("input",{id:"slug","onUpdate:modelValue":o[3]||(o[3]=p=>s(t).slug=p),type:"text",class:"w-full rounded-lg border border-sidebar-border bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"auto-generated-from-title"},null,512),[[T,s(t).slug]]),o[11]||(o[11]=e("p",{class:"mt-1 text-xs text-muted-foreground"}," Leave empty to auto-generate from title ",-1)),s(t).errors.slug?(a(),u("p",Ne,_(s(t).errors.slug),1)):b("",!0)]),e("div",null,[o[12]||(o[12]=e("label",{for:"description",class:"mb-1.5 block text-sm font-medium text-foreground"}," Description ",-1)),E(e("textarea",{id:"description","onUpdate:modelValue":o[4]||(o[4]=p=>s(t).description=p),rows:"3",class:"w-full rounded-lg border border-sidebar-border bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter page description (for SEO)"},null,512),[[T,s(t).description]]),s(t).errors.description?(a(),u("p",ze,_(s(t).errors.description),1)):b("",!0)]),e("div",Ge,[E(e("input",{id:"published","onUpdate:modelValue":o[5]||(o[5]=p=>s(t).published=p),type:"checkbox",class:"h-4 w-4 rounded border-sidebar-border text-primary focus:ring-2 focus:ring-primary/20"},null,512),[[$,s(t).published]]),o[13]||(o[13]=e("label",{for:"published",class:"text-sm font-medium text-foreground"}," Published ",-1))]),e("div",He,[E(e("input",{id:"is_homepage","onUpdate:modelValue":o[6]||(o[6]=p=>s(t).is_homepage=p),type:"checkbox",class:"h-4 w-4 rounded border-sidebar-border text-primary focus:ring-2 focus:ring-primary/20"},null,512),[[$,s(t).is_homepage]]),o[14]||(o[14]=e("label",{for:"is_homepage",class:"text-sm font-medium text-foreground"}," Set as Homepage ",-1))])],512),[[R,f.value==="basic"]]),E(e("div",null,[g(Le,{content:s(t).content,"onUpdate:content":C},null,8,["content"])],512),[[R,f.value==="builder"]]),e("div",Ke,[e("button",{type:"button",onClick:y,class:"rounded-lg border border-sidebar-border px-4 py-2 text-sm font-medium text-foreground transition-colors hover:bg-muted",disabled:s(t).processing}," Cancel ",8,Xe),e("button",{type:"submit",class:"rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow-sm transition-all hover:bg-primary/90 hover:shadow-md disabled:cursor-not-allowed disabled:opacity-50",disabled:s(t).processing},_(s(t).processing?"Saving...":d.value?"Update":"Create"),9,Je)])],32)])])):b("",!0)}};export{rt as default};
