import{r as a,n as I,c as f,a as n,u as l,h as L,w as y,b as e,d as _,e as P,f as A,g as F,v as G,s as w,t as i,o as g,j as K,F as O,k as h}from"./app-BMWTz2XK.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-BK6kJ-G7.js";import q from"./MenuModal-BOAv7lJ6.js";import{d as Q,G as Y}from"./vuedraggable.umd-DXH5Gcl1.js";import{P as H,S as J}from"./search-mYtiwpMf.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-D_BcMSqc.js";import"./useForwardExpose-DR0l8xA8.js";import"./VisuallyHidden-Cw3vAWgq.js";import"./RovingFocusGroup-gn_f9iwY.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-XNrDsntw.js";import"./createLucideIcon-B05Kbpo6.js";import"./x-DWFVe79P.js";import"./chevron-right-BxMY-0lv.js";const R={class:"flex h-full flex-1 flex-col gap-6 p-6"},W={class:"flex items-center justify-between"},X={class:"flex flex-col gap-4 sm:flex-row sm:items-center"},Z={class:"relative flex-1"},ee={class:"overflow-hidden rounded-xl border border-sidebar-border bg-card shadow-sm"},te={class:"overflow-x-auto"},se={class:"w-full"},oe={class:"px-6 py-4"},re={class:"drag-handle cursor-grab text-muted-foreground hover:text-foreground"},ne={class:"px-6 py-4"},ae={class:"font-medium text-foreground"},de={class:"px-6 py-4"},le={class:"px-6 py-4"},ie={class:"rounded bg-muted px-2 py-1 text-xs text-foreground"},ue={class:"px-6 py-4"},ce={class:"text-sm text-muted-foreground"},pe={class:"px-6 py-4"},me={class:"flex items-center justify-end gap-2"},xe=["onClick"],fe=["onClick"],ge={key:0,class:"px-6 py-12 text-center"},he={class:"w-full max-w-md rounded-xl border border-sidebar-border bg-card p-6 shadow-xl"},be={class:"mt-2 text-sm text-muted-foreground"},Ee={__name:"Index",props:{data:{type:Object,required:!0}},setup(b){const p=b,k=[{title:"Dashboard",href:"/dashboard"},{title:"Menus",href:"/admin/menus"}],u=a(!1),c=a(null),r=a(null),m=a(p.data.filters.search||""),d=a([...p.data.menus]),x=a(!1);I(()=>p.data.menus,t=>{d.value=[...t]},{deep:!0});const M=()=>{c.value=null,u.value=!0},C=t=>{c.value={...t},u.value=!0},S=()=>{u.value=!1,c.value=null},D=()=>{h.get("/admin/menus",{search:m.value},{preserveState:!0,preserveScroll:!0})},V=t=>{r.value=t},$=()=>{r.value&&h.delete(`/admin/menus/${r.value.id}`,{preserveScroll:!0,onSuccess:()=>{r.value=null}})},v=()=>{r.value=null},j=()=>{x.value=!0},N=()=>{x.value=!1,T()},T=()=>{const t=d.value.map((s,o)=>({id:s.id,order:o}));h.post("/admin/menus/reorder",{menus:t},{preserveState:!0,preserveScroll:!0})},E=t=>t.type==="page"&&t.page?`/${t.page.slug}`:t.type==="custom"&&t.url||"#",z=t=>t.has_children?t.child_type==="pages"?`Pages (${t.pages?.length||0})`:t.child_type==="components"?`Component: ${t.component}`:"Yes":"No";return(t,s)=>(g(),f(O,null,[n(l(L),{title:"Menus"}),n(U,{breadcrumbs:k},{default:y(()=>[e("div",R,[e("div",W,[s[3]||(s[3]=e("div",{class:"space-y-1"},[e("h1",{class:"text-3xl font-bold tracking-tight text-foreground"}," Menu Management "),e("p",{class:"text-sm text-muted-foreground"}," Manage navigation menu items and their order ")],-1)),e("button",{onClick:M,class:"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow-sm transition-all hover:bg-primary/90 hover:shadow-md"},[n(l(H),{class:"h-4 w-4"}),s[2]||(s[2]=P(" Create Menu Item ",-1))])]),e("div",X,[e("div",Z,[n(l(J),{class:"pointer-events-none absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),A(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>m.value=o),onKeyup:F(D,["enter"]),type:"text",placeholder:"Search menus...",class:"w-full rounded-lg border border-sidebar-border bg-background py-2 pl-10 pr-4 text-sm text-foreground placeholder:text-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"},null,544),[[G,m.value]])])]),e("div",ee,[e("div",te,[e("table",se,[s[4]||(s[4]=e("thead",{class:"border-b border-sidebar-border bg-muted/50"},[e("tr",null,[e("th",{class:"w-12 px-6 py-3"}),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground"}," Title "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground"}," Link "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground"}," Dropdown "),e("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-muted-foreground"}," Actions ")])],-1)),n(l(Q),{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=o=>d.value=o),tag:"tbody","item-key":"id",handle:".drag-handle",onStart:j,onEnd:N,class:"divide-y divide-sidebar-border"},{item:y(({element:o})=>[e("tr",{class:w(["transition-colors hover:bg-muted/30",x.value?"cursor-grabbing":"cursor-grab"])},[e("td",oe,[e("div",re,[n(l(Y),{class:"h-5 w-5"})])]),e("td",ne,[e("span",ae,i(o.title),1)]),e("td",de,[e("span",{class:w([o.type==="page"?"bg-blue-500/10 text-blue-600 dark:text-blue-400":"bg-purple-500/10 text-purple-600 dark:text-purple-400","inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium capitalize"])},i(o.type),3)]),e("td",le,[e("code",ie,i(E(o)),1)]),e("td",ue,[e("span",ce,i(z(o)),1)]),e("td",pe,[e("div",me,[e("button",{onClick:B=>C(o),class:"rounded-lg px-3 py-1.5 text-xs font-medium text-foreground transition-colors hover:bg-muted"}," Edit ",8,xe),e("button",{onClick:B=>V(o),class:"rounded-lg px-3 py-1.5 text-xs font-medium text-red-600 transition-colors hover:bg-red-500/10 dark:text-red-400"}," Delete ",8,fe)])])],2)]),_:1},8,["modelValue"])]),d.value.length===0?(g(),f("div",ge,[...s[5]||(s[5]=[e("p",{class:"text-muted-foreground"},"No menu items found",-1)])])):_("",!0)])])]),n(q,{show:u.value,menu:c.value,pages:b.data.pages,onClose:S},null,8,["show","menu","pages"]),r.value?(g(),f("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:K(v,["self"])},[e("div",he,[s[6]||(s[6]=e("h3",{class:"text-lg font-semibold text-foreground"},"Delete Menu Item",-1)),e("p",be,' Are you sure you want to delete "'+i(r.value.title)+'"? This action cannot be undone. ',1),e("div",{class:"mt-6 flex justify-end gap-3"},[e("button",{onClick:v,class:"rounded-lg border border-sidebar-border px-4 py-2 text-sm font-medium text-foreground transition-colors hover:bg-muted"}," Cancel "),e("button",{onClick:$,class:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-700"}," Delete ")])])])):_("",!0)]),_:1})],64))}};export{Ee as default};
